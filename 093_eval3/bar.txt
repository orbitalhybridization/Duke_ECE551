==8315== Memcheck, a memory error detector
==8315== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==8315== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==8315== Command: ./cyoa-step3 story1/
==8315== 
Page1:0
==8315== Invalid read of size 4
==8315==    at 0x10A74A: Choice::Choice(Choice const&) (foo.hpp:85)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10AE3B: Page::getChoices() const (foo.hpp:202)
==8315==    by 0x10BC2E: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:511)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Address 0x5c03390 is 0 bytes inside a block of size 120 free'd
==8315==    at 0x4C3123B: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x11142F: __gnu_cxx::new_allocator<Choice>::deallocate(Choice*, unsigned long) (new_allocator.h:125)
==8315==    by 0x11025D: __gnu_cxx::__alloc_traits<std::allocator<Choice> >::deallocate(std::allocator<Choice>&, Choice*, unsigned long) (alloc_traits.h:133)
==8315==    by 0x10EA43: std::_Vector_base<Choice, std::allocator<Choice> >::_M_deallocate(Choice*, unsigned long) (stl_vector.h:180)
==8315==    by 0x10D08E: std::_Vector_base<Choice, std::allocator<Choice> >::~_Vector_base() (stl_vector.h:162)
==8315==    by 0x10C033: std::vector<Choice, std::allocator<Choice> >::~vector() (stl_vector.h:435)
==8315==    by 0x10AD38: Page::~Page() (foo.hpp:194)
==8315==    by 0x10BD3B: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Block was alloc'd at
==8315==    at 0x4C3017F: operator new(unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x1113DB: __gnu_cxx::new_allocator<Choice>::allocate(unsigned long, void const*) (new_allocator.h:111)
==8315==    by 0x1101E0: __gnu_cxx::__alloc_traits<std::allocator<Choice> >::allocate(std::allocator<Choice>&, unsigned long) (alloc_traits.h:130)
==8315==    by 0x10E9A1: std::_Vector_base<Choice, std::allocator<Choice> >::_M_allocate(unsigned long) (stl_vector.h:172)
==8315==    by 0x10EB52: std::_Vector_base<Choice, std::allocator<Choice> >::_M_create_storage(unsigned long) (stl_vector.h:187)
==8315==    by 0x10D14C: std::_Vector_base<Choice, std::allocator<Choice> >::_Vector_base(unsigned long, std::allocator<Choice> const&) (stl_vector.h:138)
==8315==    by 0x10C0A1: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:328)
==8315==    by 0x10ACA3: Page::Page(Page const&) (foo.hpp:192)
==8315==    by 0x10BCC4: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315== 
==8315== Invalid read of size 8
==8315==    at 0x4F63187: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==8315==    by 0x10A76C: Choice::Choice(Choice const&) (foo.hpp:86)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10AE3B: Page::getChoices() const (foo.hpp:202)
==8315==    by 0x10BC2E: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:511)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Address 0x5c03398 is 8 bytes inside a block of size 120 free'd
==8315==    at 0x4C3123B: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x11142F: __gnu_cxx::new_allocator<Choice>::deallocate(Choice*, unsigned long) (new_allocator.h:125)
==8315==    by 0x11025D: __gnu_cxx::__alloc_traits<std::allocator<Choice> >::deallocate(std::allocator<Choice>&, Choice*, unsigned long) (alloc_traits.h:133)
==8315==    by 0x10EA43: std::_Vector_base<Choice, std::allocator<Choice> >::_M_deallocate(Choice*, unsigned long) (stl_vector.h:180)
==8315==    by 0x10D08E: std::_Vector_base<Choice, std::allocator<Choice> >::~_Vector_base() (stl_vector.h:162)
==8315==    by 0x10C033: std::vector<Choice, std::allocator<Choice> >::~vector() (stl_vector.h:435)
==8315==    by 0x10AD38: Page::~Page() (foo.hpp:194)
==8315==    by 0x10BD3B: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Block was alloc'd at
==8315==    at 0x4C3017F: operator new(unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x1113DB: __gnu_cxx::new_allocator<Choice>::allocate(unsigned long, void const*) (new_allocator.h:111)
==8315==    by 0x1101E0: __gnu_cxx::__alloc_traits<std::allocator<Choice> >::allocate(std::allocator<Choice>&, unsigned long) (alloc_traits.h:130)
==8315==    by 0x10E9A1: std::_Vector_base<Choice, std::allocator<Choice> >::_M_allocate(unsigned long) (stl_vector.h:172)
==8315==    by 0x10EB52: std::_Vector_base<Choice, std::allocator<Choice> >::_M_create_storage(unsigned long) (stl_vector.h:187)
==8315==    by 0x10D14C: std::_Vector_base<Choice, std::allocator<Choice> >::_Vector_base(unsigned long, std::allocator<Choice> const&) (stl_vector.h:138)
==8315==    by 0x10C0A1: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:328)
==8315==    by 0x10ACA3: Page::Page(Page const&) (foo.hpp:192)
==8315==    by 0x10BCC4: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315== 
==8315== Invalid read of size 8
==8315==    at 0x4F6318A: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==8315==    by 0x10A76C: Choice::Choice(Choice const&) (foo.hpp:86)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10AE3B: Page::getChoices() const (foo.hpp:202)
==8315==    by 0x10BC2E: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:511)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Address 0x5c033a0 is 16 bytes inside a block of size 120 free'd
==8315==    at 0x4C3123B: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x11142F: __gnu_cxx::new_allocator<Choice>::deallocate(Choice*, unsigned long) (new_allocator.h:125)
==8315==    by 0x11025D: __gnu_cxx::__alloc_traits<std::allocator<Choice> >::deallocate(std::allocator<Choice>&, Choice*, unsigned long) (alloc_traits.h:133)
==8315==    by 0x10EA43: std::_Vector_base<Choice, std::allocator<Choice> >::_M_deallocate(Choice*, unsigned long) (stl_vector.h:180)
==8315==    by 0x10D08E: std::_Vector_base<Choice, std::allocator<Choice> >::~_Vector_base() (stl_vector.h:162)
==8315==    by 0x10C033: std::vector<Choice, std::allocator<Choice> >::~vector() (stl_vector.h:435)
==8315==    by 0x10AD38: Page::~Page() (foo.hpp:194)
==8315==    by 0x10BD3B: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Block was alloc'd at
==8315==    at 0x4C3017F: operator new(unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x1113DB: __gnu_cxx::new_allocator<Choice>::allocate(unsigned long, void const*) (new_allocator.h:111)
==8315==    by 0x1101E0: __gnu_cxx::__alloc_traits<std::allocator<Choice> >::allocate(std::allocator<Choice>&, unsigned long) (alloc_traits.h:130)
==8315==    by 0x10E9A1: std::_Vector_base<Choice, std::allocator<Choice> >::_M_allocate(unsigned long) (stl_vector.h:172)
==8315==    by 0x10EB52: std::_Vector_base<Choice, std::allocator<Choice> >::_M_create_storage(unsigned long) (stl_vector.h:187)
==8315==    by 0x10D14C: std::_Vector_base<Choice, std::allocator<Choice> >::_Vector_base(unsigned long, std::allocator<Choice> const&) (stl_vector.h:138)
==8315==    by 0x10C0A1: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:328)
==8315==    by 0x10ACA3: Page::Page(Page const&) (foo.hpp:192)
==8315==    by 0x10BCC4: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315== 
==8315== Invalid read of size 8
==8315==    at 0x4C34160: memcpy@GLIBC_2.2.5 (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x4F63156: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==8315==    by 0x10A76C: Choice::Choice(Choice const&) (foo.hpp:86)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10AE3B: Page::getChoices() const (foo.hpp:202)
==8315==    by 0x10BC2E: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:511)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Address 0x5c03450 is 0 bytes inside a block of size 26 free'd
==8315==    at 0x4C3123B: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x10A731: Choice::~Choice() (foo.hpp:82)
==8315==    by 0x111464: void std::_Destroy<Choice>(Choice*) (stl_construct.h:98)
==8315==    by 0x1102B6: void std::_Destroy_aux<false>::__destroy<Choice*>(Choice*, Choice*) (stl_construct.h:108)
==8315==    by 0x10EAE1: void std::_Destroy<Choice*>(Choice*, Choice*) (stl_construct.h:137)
==8315==    by 0x10D0F2: void std::_Destroy<Choice*, Choice>(Choice*, Choice*, std::allocator<Choice>&) (stl_construct.h:206)
==8315==    by 0x10C027: std::vector<Choice, std::allocator<Choice> >::~vector() (stl_vector.h:434)
==8315==    by 0x10AD38: Page::~Page() (foo.hpp:194)
==8315==    by 0x10BD3B: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Block was alloc'd at
==8315==    at 0x4C3017F: operator new(unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x4F6313C: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==8315==    by 0x10A76C: Choice::Choice(Choice const&) (foo.hpp:86)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10ACA3: Page::Page(Page const&) (foo.hpp:192)
==8315==    by 0x10BCC4: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315== 
==8315== Invalid read of size 8
==8315==    at 0x4C3416E: memcpy@GLIBC_2.2.5 (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x4F63156: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==8315==    by 0x10A76C: Choice::Choice(Choice const&) (foo.hpp:86)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10AE3B: Page::getChoices() const (foo.hpp:202)
==8315==    by 0x10BC2E: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:511)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Address 0x5c03460 is 16 bytes inside a block of size 26 free'd
==8315==    at 0x4C3123B: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x10A731: Choice::~Choice() (foo.hpp:82)
==8315==    by 0x111464: void std::_Destroy<Choice>(Choice*) (stl_construct.h:98)
==8315==    by 0x1102B6: void std::_Destroy_aux<false>::__destroy<Choice*>(Choice*, Choice*) (stl_construct.h:108)
==8315==    by 0x10EAE1: void std::_Destroy<Choice*>(Choice*, Choice*) (stl_construct.h:137)
==8315==    by 0x10D0F2: void std::_Destroy<Choice*, Choice>(Choice*, Choice*, std::allocator<Choice>&) (stl_construct.h:206)
==8315==    by 0x10C027: std::vector<Choice, std::allocator<Choice> >::~vector() (stl_vector.h:434)
==8315==    by 0x10AD38: Page::~Page() (foo.hpp:194)
==8315==    by 0x10BD3B: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Block was alloc'd at
==8315==    at 0x4C3017F: operator new(unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x4F6313C: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==8315==    by 0x10A76C: Choice::Choice(Choice const&) (foo.hpp:86)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10ACA3: Page::Page(Page const&) (foo.hpp:192)
==8315==    by 0x10BCC4: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315== 
==8315== Invalid read of size 1
==8315==    at 0x4C34108: memcpy@GLIBC_2.2.5 (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x4F63156: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==8315==    by 0x10A76C: Choice::Choice(Choice const&) (foo.hpp:86)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10AE3B: Page::getChoices() const (foo.hpp:202)
==8315==    by 0x10BC2E: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:511)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Address 0x5c03468 is 24 bytes inside a block of size 26 free'd
==8315==    at 0x4C3123B: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x10A731: Choice::~Choice() (foo.hpp:82)
==8315==    by 0x111464: void std::_Destroy<Choice>(Choice*) (stl_construct.h:98)
==8315==    by 0x1102B6: void std::_Destroy_aux<false>::__destroy<Choice*>(Choice*, Choice*) (stl_construct.h:108)
==8315==    by 0x10EAE1: void std::_Destroy<Choice*>(Choice*, Choice*) (stl_construct.h:137)
==8315==    by 0x10D0F2: void std::_Destroy<Choice*, Choice>(Choice*, Choice*, std::allocator<Choice>&) (stl_construct.h:206)
==8315==    by 0x10C027: std::vector<Choice, std::allocator<Choice> >::~vector() (stl_vector.h:434)
==8315==    by 0x10AD38: Page::~Page() (foo.hpp:194)
==8315==    by 0x10BD3B: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Block was alloc'd at
==8315==    at 0x4C3017F: operator new(unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x4F6313C: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==8315==    by 0x10A76C: Choice::Choice(Choice const&) (foo.hpp:86)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10ACA3: Page::Page(Page const&) (foo.hpp:192)
==8315==    by 0x10BCC4: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315== 
==8315== Invalid read of size 2
==8315==    at 0x4C340D0: memcpy@GLIBC_2.2.5 (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x4F63156: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==8315==    by 0x10A76C: Choice::Choice(Choice const&) (foo.hpp:86)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10AE3B: Page::getChoices() const (foo.hpp:202)
==8315==    by 0x10BC2E: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:511)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Address 0x5c034c0 is 16 bytes inside a block of size 21 free'd
==8315==    at 0x4C3123B: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x10A731: Choice::~Choice() (foo.hpp:82)
==8315==    by 0x111464: void std::_Destroy<Choice>(Choice*) (stl_construct.h:98)
==8315==    by 0x1102B6: void std::_Destroy_aux<false>::__destroy<Choice*>(Choice*, Choice*) (stl_construct.h:108)
==8315==    by 0x10EAE1: void std::_Destroy<Choice*>(Choice*, Choice*) (stl_construct.h:137)
==8315==    by 0x10D0F2: void std::_Destroy<Choice*, Choice>(Choice*, Choice*, std::allocator<Choice>&) (stl_construct.h:206)
==8315==    by 0x10C027: std::vector<Choice, std::allocator<Choice> >::~vector() (stl_vector.h:434)
==8315==    by 0x10AD38: Page::~Page() (foo.hpp:194)
==8315==    by 0x10BD3B: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315==  Block was alloc'd at
==8315==    at 0x4C3017F: operator new(unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==8315==    by 0x4F6313C: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==8315==    by 0x10A76C: Choice::Choice(Choice const&) (foo.hpp:86)
==8315==    by 0x111521: void std::_Construct<Choice, Choice>(Choice*, Choice const&) (stl_construct.h:83)
==8315==    by 0x110341: Choice* std::__uninitialized_copy<false>::__uninit_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:83)
==8315==    by 0x10EBDF: Choice* std::uninitialized_copy<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*) (stl_uninitialized.h:134)
==8315==    by 0x10D246: Choice* std::__uninitialized_copy_a<__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, Choice>(__gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, __gnu_cxx::__normal_iterator<Choice const*, std::vector<Choice, std::allocator<Choice> > >, Choice*, std::allocator<Choice>&) (stl_uninitialized.h:289)
==8315==    by 0x10C0E3: std::vector<Choice, std::allocator<Choice> >::vector(std::vector<Choice, std::allocator<Choice> > const&) (stl_vector.h:331)
==8315==    by 0x10ACA3: Page::Page(Page const&) (foo.hpp:192)
==8315==    by 0x10BCC4: Story::pageDepthsHelper(Page const*, Page const*) (foo.hpp:514)
==8315==    by 0x10B8E2: Story::displayPageDepths() (foo.hpp:479)
==8315==    by 0x10A3F0: main (cyoa-step3.cpp:12)
==8315== 
Page2 is not reachable
Page3 is not reachable
Page4:1
Page5 is not reachable
Page6 is not reachable
Page7:1
Page8 is not reachable
Page9 is not reachable
Page10 is not reachable
Page11 is not reachable
Page12 is not reachable
Page13 is not reachable
Page14 is not reachable
==8315== 
==8315== HEAP SUMMARY:
==8315==     in use at exit: 2,177 bytes in 119 blocks
==8315==   total heap usage: 1,533 allocs, 1,414 frees, 1,310,387 bytes allocated
==8315== 
==8315== LEAK SUMMARY:
==8315==    definitely lost: 2,177 bytes in 119 blocks
==8315==    indirectly lost: 0 bytes in 0 blocks
==8315==      possibly lost: 0 bytes in 0 blocks
==8315==    still reachable: 0 bytes in 0 blocks
==8315==         suppressed: 0 bytes in 0 blocks
==8315== Rerun with --leak-check=full to see details of leaked memory
==8315== 
==8315== For counts of detected and suppressed errors, rerun with: -v
==8315== ERROR SUMMARY: 228 errors from 7 contexts (suppressed: 0 from 0)
